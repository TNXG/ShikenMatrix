/* 导入 WebView 兼容性修复 */
@import "./webview-fixes.css";

:root {
	/* 亮色模式 (默认) */
	--bg-app: transparent;
	/* 应用背景完全透明，透出桌面壁纸 */
	--bg-glass: rgba(255, 255, 255, 0.55);
	/* 卡片、容器背景 */
	--bg-glass-hover: rgba(255, 255, 255, 0.75);
	/* 悬停状态的卡片背景 */
	--bg-glass-elevated: rgba(255, 255, 255, 0.65);
	/* 弹出菜单等较高层级的背景 - 更通透 */
	/* 降级背景 - 当 backdrop-filter 失效时使用 */
	--bg-glass-fallback: rgba(245, 245, 250, 0.92);
	--bg-glass-fallback-elevated: rgba(250, 250, 255, 0.95);

	--text-primary: rgba(0, 0, 0, 0.85);
	/* 主要文本颜色 - 黑色 85% */
	--text-secondary: rgba(0, 0, 0, 0.55);
	/* 次要文本颜色 - 黑色 55% */
	--text-tertiary: rgba(0, 0, 0, 0.35);
	/* 辅助文本颜色 - 黑色 35% */

	--border-glass: rgba(255, 255, 255, 0.5);
	/* 玻璃效果的边框颜色 */
	--shadow-card: 0 8px 32px rgba(0, 0, 0, 0.08);
	/* 卡片阴影 */

	--accent-color: #007aff;
	/* 强调色，用于按钮、高亮等 */

	/* 模糊效果变量 - 便于统一管理和降级 */
	--blur-amount: 32px;
	--blur-saturate: 180%;

	/* 噪点纹理 - 用于模拟磨砂玻璃质感 (SVG Data URI) */
	--noise-texture: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");
}

/* Windows 平台特定覆盖 - Faux Glass (伪玻璃) 效果 */
.platform-windows {
	/* 基础背景色 - 稍微提高不透明度 */
	--bg-glass: rgba(255, 255, 255, 0.75);
	--bg-glass-hover: rgba(255, 255, 255, 0.85);
	--bg-glass-elevated: rgba(255, 255, 255, 0.85);

	/* 增强边框以弥补模糊缺失 */
	--border-glass: rgba(255, 255, 255, 0.6);

	/* 增强阴影以增加层次感 */
	--shadow-card:
		0 4px 24px -1px rgba(0, 0, 0, 0.1),
		0 0 0 1px rgba(255, 255, 255, 0.4) inset;
}

/* 为 Windows 平台添加纹理和渐变背景 */
.platform-windows .state-card,
.platform-windows .foreground-widget,
.platform-windows .media-widget,
.platform-windows .capsule-menu {
	/* 叠加噪点纹理和微妙的线性渐变 */
	background-image:
		var(--noise-texture),
		linear-gradient(135deg, rgba(255, 255, 255, 0.4) 0%, rgba(255, 255, 255, 0.1) 100%);
	background-blend-mode: overlay, normal;
}

@media (prefers-color-scheme: dark) {
	:root {
		/* 暗色模式 (自动适配) */
		--bg-glass: rgba(30, 30, 35, 0.55);
		--bg-glass-hover: rgba(44, 44, 50, 0.7);
		--bg-glass-elevated: rgba(40, 40, 45, 0.65);
		/* 更通透 */
		/* 降级背景 - 暗色模式 */
		--bg-glass-fallback: rgba(25, 25, 30, 0.92);
		--bg-glass-fallback-elevated: rgba(35, 35, 40, 0.95);

		--text-primary: rgba(255, 255, 255, 0.9);
		/* 主要文本颜色 - 白色 90% */
		--text-secondary: rgba(255, 255, 255, 0.6);
		/* 次要文本颜色 - 白色 60% */
		--text-tertiary: rgba(255, 255, 255, 0.35);
		/* 辅助文本颜色 - 白色 35% */

		--border-glass: rgba(255, 255, 255, 0.12);
		--shadow-card: 0 8px 32px rgba(0, 0, 0, 0.4);
	}

	/* Windows 平台暗色模式覆盖 */
	.platform-windows {
		--bg-glass: rgba(30, 30, 35, 0.75);
		--bg-glass-hover: rgba(44, 44, 50, 0.85);
		--bg-glass-elevated: rgba(40, 40, 45, 0.85);

		--border-glass: rgba(255, 255, 255, 0.15);

		--shadow-card:
			0 8px 32px rgba(0, 0, 0, 0.5),
			0 0 0 1px rgba(255, 255, 255, 0.08) inset;
	}

	.platform-windows .state-card,
	.platform-windows .foreground-widget,
	.platform-windows .media-widget,
	.platform-windows .capsule-menu {
		background-image:
			var(--noise-texture),
			linear-gradient(135deg, rgba(255, 255, 255, 0.08) 0%, rgba(255, 255, 255, 0) 100%);
	}
}

* {
	margin: 0;
	padding: 0;
	box-sizing: border-box;
}

html,
body {
	margin: 0;
	padding: 0;
	width: 100%;
	height: 100%;
	background: transparent !important;
	color: var(--text-primary);
	font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Microsoft YaHei", sans-serif;
	overflow: hidden;
	user-select: none;
	-webkit-user-select: none;
}

#__nuxt {
	width: 100%;
	height: 100%;
	background: transparent !important;
}

/* 拖拽区域 */
.drag-handle {
	-webkit-app-region: drag;
	app-region: drag;
}

/* 可交互元素不应该触发拖拽 */
button,
a,
input,
select,
textarea,
.no-drag,
.content-area,
.content-area * {
	-webkit-app-region: no-drag;
	app-region: no-drag;
}